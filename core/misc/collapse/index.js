!function(a,s,i){function o(t){this.$node=a(t),this.$node.data("details",this);var e=window.location.hash&&"#"!==window.location.hash?", "+window.location.hash:"";this.$node.find(".error"+e).length&&this.$node.attr("open",!0),this.setupSummary(),this.setupLegend()}a.extend(o,{instances:[]}),a.extend(o.prototype,{setupSummary:function(){this.$summary=a('<span class="summary"></span>'),this.$node.on("summaryUpdated",a.proxy(this.onSummaryUpdated,this)).trigger("summaryUpdated")},setupLegend:function(){var t=this.$node.find("> summary");a('<span class="details-summary-prefix visually-hidden"></span>').append(this.$node.attr("open")?i.t("Hide"):i.t("Show")).prependTo(t).after(document.createTextNode(" ")),a('<a class="details-title"></a>').attr("href","#"+this.$node.attr("id")).prepend(t.contents()).appendTo(t),t.append(this.$summary).on("click",a.proxy(this.onLegendClick,this))},onLegendClick:function(t){this.toggle(),t.preventDefault()},onSummaryUpdated:function(){var t=a.trim(this.$node.drupalGetSummary());this.$summary.html(t?" ("+t+")":"")},toggle:function(){var t=this,e=!!this.$node.attr("open"),n=this.$node.find("> summary span.details-summary-prefix");e?n.html(i.t("Show")):n.html(i.t("Hide")),setTimeout(function(){t.$node.attr("open",!e)},0)}}),i.behaviors.collapse={attach:function(t){if(!s.details){var e=a(t).find("details").once("collapse").addClass("collapse-processed");if(e.length)for(var n=0;n<e.length;n++)o.instances.push(new o(e[n]))}}};a("body").on("formFragmentLinkClickOrHashChange.details",function(t,e){e.parents("details").not("[open]").find("> summary").trigger("click")}),i.CollapsibleDetails=o}(jQuery,Modernizr,Drupal);